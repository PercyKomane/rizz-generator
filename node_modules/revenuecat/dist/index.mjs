import a from"axios";var s=class{secretKey;iosKey;androidKey;url="https://api.revenuecat.com/v1";axios;constructor({secretKey:t,iosKey:e,androidKey:r}){this.secretKey=t,this.iosKey=e,this.androidKey=r,this.axios=a.create({baseURL:this.url})}createAuthorizationHeader(t){switch(t){case"ios":return`Bearer ${this.iosKey}`;case"android":return`Bearer ${this.androidKey}`;default:return`Bearer ${this.secretKey}`}}getSubscriptions=async({userId:t,platform:e})=>{let r={"Content-Type":"application/json",Authorization:this.createAuthorizationHeader(e)};e&&(r=Object.assign(r,{"x-platform":e}));let{data:i}=await this.axios.get(`/subscribers/${t}`,{headers:r});return i};postSubscriptionsAttributes=async({userId:t,data:e})=>{let r={"Content-Type":"application/json",Authorization:this.createAuthorizationHeader(),app_user_id:t},{data:i}=await this.axios.post(`/subscribers/${t}/attributes`,e,{headers:r});return i};getOfferings=async({userId:t,platform:e})=>{let r={"Content-Type":"application/json",Authorization:this.createAuthorizationHeader(e),app_user_id:t};e&&(r=Object.assign(r,{"x-platform":e}));let{data:i}=await this.axios.get(`/subscribers/${t}/offerings`,{headers:r});return i}};var d=s;export{s as Revenuecat,d as default};
//# sourceMappingURL=index.mjs.map